local vimage = require("vimage_connector")

--print("")
--print("load from file and save to buffer:")
--image5 = vimage.new_from_file("/data/images/secondImg.png")
--image5 = image5:invert()
--buffer = image5:write_to_buffer(".jpg")
--str = ffi.string(buffer, ffi.sizeof(buffer))
--local f = io.open("/data/images/x2.jpg", "w+b")
--f:write(str)
--f:close()


print("")
print("load from buffer and save to file:")
local f = io.open("/data/images/secondImg.png", "rb")
local str = f:read("*all")
f:close()
image6 = vimage.new_from_buffer(".png", str)
image6 = image6:invert()
image6:write_to_file("/data/images/x3.jpg")
